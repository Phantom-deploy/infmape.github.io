<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Search Bar with Images</title>
  <link rel="stylesheet" type="text/css" href="selection.css">
  <!-- Font Awesome CSS (You may need to include it) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
    /* Add custom CSS styles for the app images in the search bar */
    #search-image {
      width: 20px;
      height: 20px;
      vertical-align: middle;
      margin-right: 5px;
    }
  </style>
</head>
<body>
  <div class="logo-container">
    <a href="index.html">
        <div class="logo">
            <img src="Images/enlarged logo.png" alt="Logo">
        </div>
    </a>
</div>
  <div class="container">
    <form>
      <div class="input-group">
        <input type="text" id="search" placeholder="Search..." autocomplete="off">
      </div>
      <div class="suggestion-list hidden">
        <!-- Suggestion items will be dynamically generated here -->
      </div>
    </form>
    <div id="apps">
      <!-- Your app list with images and text -->
      <div class="app" data-image="enlarged logo" onclick="window.location.href='index.html'">
        <i class="fab fa-adobe"></i>
        <img src="Images/enlarged logo.png" id="search-image" style="width: 90px; height: 90px;"> 
        <p>Adobe</p>

      </div>
      <div class="app" data-image="Updated Logo" onclick="window.location.href='index.html'">
        <i class="fab fa-adobe"></i>
        <img src="Images/Updated Logo.png" id="search-image" style="width: 90px; height: 90px;"> 
        <p style="color: white; font-weight: bold;">Bokay</p>
      </div>
      <!-- Add the other app elements with images and text here -->
    </div>
  </div>

  <script>
    var all_apps = document.querySelectorAll('.app');
    var search = document.querySelector('#search');
    var listContainer = document.querySelector('.suggestion-list');

    var app_list = [];

    for (let i = 0; i < all_apps.length; i++) {
      let app_title = all_apps[i].querySelector('p').innerText.toLowerCase();
      let app_icon = all_apps[i].querySelector('i').classList.value;
      let app_image = all_apps[i].getAttribute('data-image'); // Get the custom image attribute

      let obj = {};
      obj.app_title = app_title;
      obj.app_icon = app_icon;
      obj.app_image = app_image; // Store the custom image attribute

      app_list.push(obj);
    }

    search.addEventListener('keyup', generateAppList);
    search.addEventListener('blur', hideAppList);

    function generateAppList(event) {
      var fragment = document.createDocumentFragment();

      var userInput = event.target.value.toLowerCase();

      if (userInput.length === 0) {
        listContainer.classList.add('hidden');
        return false;
      }

      listContainer.innerHTML = '';
      listContainer.classList.remove('hidden');

      var filteredList = app_list.filter(function (arr) {
        return arr.app_title.includes(userInput);
      });

      if (filteredList.length === 0) {
        let paragraph = document.createElement('p');
        paragraph.innerText = 'No app found';
        fragment.appendChild(paragraph);
      } else {
        for (let i = 0; i < filteredList.length; i++) {
          let paragraph = document.createElement('p');
          let icon = document.createElement('i');
          let span = document.createElement('span');
          let img = document.createElement('img'); // Create an image element

          img.src = `Images/${filteredList[i].app_image}.png`; // Set the image source based on the custom image attribute
          img.id = 'search-image'; // Apply custom CSS styles to the image

          icon.classList.value = filteredList[i].app_icon;
          span.innerText = filteredList[i].app_title;

          // Append the image, icon, and text
          paragraph.appendChild(img);
          paragraph.appendChild(icon);
          paragraph.appendChild(span);

          fragment.appendChild(paragraph);
        }
      }

      listContainer.appendChild(fragment);
    }

    function hideAppList() {
      listContainer.classList.add('hidden');
    }
  </script>
</body>
</html>
